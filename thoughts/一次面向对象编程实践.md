# 一次面向对象编程实践

以前总觉得不知道在哪用面向对象编程，都是 controller、service、dao 一个个接口写。

感悟：

- 简单的功能用不到面向对象编程，[[需求经常发生变化的地方才是面向对象的用武之地]]
    - `MetaProperties` 和 `MetaProperty` 封装了 key-val 算面向对象编程，这两个类能复用
    - 其余部分只是把职责拆分到了几个类中，一定程度上提高代码的可读性，但并不算面向对象编程
- **自顶向下整体设计**的项目，可以进行类设计，而之前写一个个接口，有很多相似的业务代码分散在各个接口代码中
- 由于对象提供了很多方法，对象的使用者不一定会按照设计时所期望的那样“正确使用”对象的方法，故在实现每个方法时要保证一定的独立性，考虑一些异常情况，以提高程序健壮性

问题（教训）：

- 最初没有进行详细的类设计，导致在实现过程中边实现边定义类，进而产生大量类而且类之间的职责划分模糊（职责重叠或职责分散或纠结职责放到哪个类中），陷入了边写边改的局面
- 故在开始写代码前一定要进行详细的类设计，具体到类以及类的方法+类与类之间如何组装
- 由于对 Spring 了解不深以及习惯了写面向过程代码，实践面向对象编码时遇到很多技术问题，比如
    - 如何把原型 bean 注入到单例 bean 中
    - 一个对象定义为普通对象还是定义为一个 bean

收获：

- 进一步了解了面向对象编程的适用范围
- 进一步能区分哪些是面向对象编程的写法
- 在自顶向下整体设计时要进行具体到类以及类中方法级别的详细设计
