# 高可用架构有哪些复杂度

高可用定义：系统无中断提供服务。常用指标：几个 9，比如 2 个 9 即 99%。

实现高可用的本质：**冗余**。

为什么会出现系统不可用？

- 硬件
- 软件
- 自然不可抗力

## 复杂度来源

硬件不可用解决措施，需要根据硬件承载的服务特点决定：

- 计算（应用服务器）
    - 应用服务器一般设计为无状态的，方便横向拓展铺开，一个节点挂了改用另一个即可
    - 复杂度与 [[高性能架构有哪些复杂度]] 中集群问题一样，任务的分配和配合问题
- 存储（类似 MySQL 服务器）
    - 难点：数据同步的速度

软件不可用解决措施：灰度发布、回滚等。

维持系统可用状态的决策机制：系统需要有一个机制能够判断当前的状态是正常还是异常，如果出现了异常就要通过此机制来保证高可用。例如故障节点需要下线，出现网络分区了如何处理。

## 参考

[05 | 复杂度来源：高可用-极客时间](https://time.geekbang.org/column/article/6895)
