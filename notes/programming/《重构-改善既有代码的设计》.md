如果软件是持久不变的，怎么写都行，能运行即可。但如果要面临频繁的变更，便要遵循一些原则，这些原则可以帮助降低后续更改、新增代码的难度。

# 原则

- 函数只做一件事
- 函数应该放到所使用数据的所属对象中
    - 明确类的职责，依据功能把函数放到所属类中

# 整洁代码

- 代码是写给人看的。好的代码应该能表达出自己的意图，要注意变量名和方法名的清晰；如果无法清晰命名，大概率是因为函数做了很多事

# 坏味道列表

# 重构手法列表

---

# 重构的目的

在不改变软件的外在行为的前提下，对代码进行整理，使得**易于理解**和修改。

# 重构 VS 性能优化

性能优化是为了提高性能，往往使代码难以理解。

# 何时重构

只要觉得代码难以理解或新增特性困难时便重构。

# 什么是代码的可维护性？

容易找到修改点，面临变更时有些代码不用改，要能快速找到变更点，并且修改起来很容易。

# 复制粘贴代码带来了哪些风险？

面临变更时，由于相同的代码在系统中存在多份，修改时容易遗漏或者修改不一致。

# 什么是重构的节奏？

每次修改一点，然后测试，循环往复。

# 如何平衡重构与性能？

- **明确性能要求场景，若有要求则找出热点代码并优化**
- **重构让代码更清晰，使优化阶段调整起来更轻松**

有些重构为了让代码更清晰，可能会让软件变慢：比如在一次循环中做两件事为了拆分，变成了每件事都要做一遍循环。【之前经常纠结的点】

对性能的关注程度要取决于软件的使用场景，实时系统便要求很高。如果不是对性能有特别高要求的情况下，更应该关注代码的整洁程度。

当明确需要提升性能时，也不是说关注软件所有的代码，每处代码都要优化到极致，因为程序运行的大部分时间集中在小段代码上（局部性原理）。故要先找出热点代码，重点优化热点代码的性能。
