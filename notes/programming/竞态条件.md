---
date created: 2022-06-09, 11:10:14
date modified: 2022-06-09, 11:10:41
---

# Meta

- parent :: [[并发理论]]
- siblings ::
- child ::
- refs:

---

# 竞态条件

多线程程序，其中至少有一个线程写共享变量（[[数据竞争]] 是前提条件），运行结果在没有并发控制下，依赖于各线程的执行顺序与时机（这又是偶然的、不受控制的）。

竞态条件有多种出错可能，其中很典型的出错如下：

```java
if (condition) {
    执行操作影响了 condition;
}
```

1. 线程 A 通过 condition 条件
2. 发生线程切换
3. 线程 B 也通过 condition 条件
4. 发生线程切换
5. 线程 A 执行操作，导致 condition 不成立
6. 发生线程切换
7. 由于 condition 不成立，但线程 B 之前通过了判断条件，故本不应该执行操作却错误执行了
