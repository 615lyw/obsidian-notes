---
date created: 2022-06-14, 10:49:29
date modified: 2022-06-14, 10:49:55
---

# Meta

- alias: 网络知识串讲
- parent :: [[计算机网络]]
- siblings ::
- child ::
- refs:

---

浏览器解析 URL 生成 HTTP 请求报文

通过 DNS 协议获得域名对应的 IP 地址（从浏览器开始的多级缓存查询）

TCP 层（待补充）

此时有源 IP 和目标 IP 地址，调用（IP 层函数），已知默认网关 IP，调用（IP 层函数）。
=> IP 层函数：通过子网掩码按位与计算目标 IP 地址是否和自己处在同一子网，若是则通过 ARP 协议获取对方的 MAC 地址；若不是则通过已知的默认网关 IP 地址重复上述过程 （已知目标 IP 地址，获得目标 MAC 地址过程）

此时有源 MAC 地址和目标 MAC 地址

交给网卡驱动程序，通过网卡把数字信息转为电信号

到达交换机，交换机通过自学习生成的 MAC 地址-接口映射表找到目标 MAC 地址对应的出接口再转发出去 （交换机自学习算法）

到达 NAT 路由器，判断 MAC 地址是否为自己，是自己接收。获取目标 IP 地址，查询路由表获得出链路接口以及下一跳 IP 地址。获得源端口号并通过 NAT 建立映射。填写出链路接口 MAC 地址作为源 MAC 地址，通过 [[ARP 协议]] 获得下一跳 IP 地址对应的 MAC 地址作为目标 MAC 地址。（路由器进行转发的过程，NAT 地址转换）

服务器层层拆包