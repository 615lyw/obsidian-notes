# 如何理解控制反转？

根据面向对象编程思想，一切都是对象、程序是由对象组成的，即一个软件是由多个相互协作的组件（对象）构成的。把各个组件组合起来协同工作称为：组件装配。

创建对象之间依赖关系的传统方式为通过构造器创建一个所需对象：

```java
// 创建了一个 student 实例
Student stu1 = new ChineseStudent();
stu1.study();
```

传统方法导致对象之间高度耦合，例如当程序需要一个 `AmericaStudent()` 时，不得不修改原有代码，其实程序只需要依赖 `Student` 即可，不用关心它的具体实现，实现解耦。

```java
Student stu = getStudent();
stu.study();
```

故我们可以把组件的创建，即 new 对象的过程交给 Spring 来做，程序只需从 Spring 中获取所需对象即可。这种从以前需要程序自己创建所需对象实例的传统形式转变为从 Spring 中获取所需对象的形式称为：控制反转。

# 为什么需要 IoC？

传统控制流：当我依赖一个对象，我要去创建它，对它进行属性配置，然后我才能使用这个对象。

控制反转 IoC：它使对象或者组件的创建更为透明，不需要过多的关注细节（如创建对象、给对象设置属性，这些 IoC 容器都给我们设置好了），以达到解耦的目的。

控制反转即 [[好莱坞原则 Hollywood's Law]] 的具体示例，同时也是一项 [[解耦技术]]。

IoC 框架即实现依赖注入或依赖查找的框架。除了 SpringFramework 还有 JavaBean+BeanContext 也是 IoC 框架（ [[JavaBeans]] ）。

# IoC 的 2 种主要实现策略

- [[依赖查找]]
- [[依赖注入]]
