---
date created: 2022-07-07, 18:23:15
date modified: 2022-07-07, 18:23:15
---
# Meta

- alias:
- parent :: [[系统设计]]
- siblings :: [[高性能数据库集群-读写分离]]
- child ::
- refs: [15 | 高性能数据库集群：分库分表-极客时间](https://time.geekbang.org/column/article/8373)

---

# 分库

不同的业务数据由以前的都在一个库不同表中变成在不同的库中，例如商品库、订单库、用户库等。

带来的复杂度：

- 事务不能由数据库本身实现
- SQL 不好写

# 分表

分库后，假设每个数据库中只有一张表，数据继续增长会出现单表数据太大了的问题，需要拆表。

拆分方法：

- 垂直拆分：按列拆分
- 水平拆分：按行拆分

带来的复杂度：

- 路由：去哪个库、哪个表
- 事务不能由数据库本身实现
- SQL 不好写：count、order by、join