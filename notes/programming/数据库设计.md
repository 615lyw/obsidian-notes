数据库设计又称：表设计。

# 设计规范

1. 表的主键名不能简单设为 id，必须有意义，如 human_id
2. 表示布尔类型的变量必须命名为：is_xxx，数据类型为：unsigned tinyint，1 表示是，0 表示否
3. 每张表必须有标记删除字段，命名为：is_deleted
4. 表名不使用复数名词

[[MySQL SQL 书写#SQL 书写规范]]

# 数据库设计步骤

需求分析 → 逻辑设计 → 物理设计 → 维护优化

需求分析：

1. 所要存储的数据是什么
2. 数据有哪些属性
3. 数据和属性各自的特点是什么

逻辑设计：使用 ER 图对数据库进行逻辑建模。
物理设计：根据数据库管理系统自身的特点把逻辑设计转换为物理设计。

维护优化：

1. 新的需求进行建表
2. 索引优化
3. 大表拆分

# 数据库设计范式

## 实体-联系模型

**实体**：可以唯一标识的事物，例如一个人或一本书。实体有一组属性，其中有些属性可以唯一标识这个实体。
**关系**：即一张表。
**元组**：表中的一行。
超码：
**候选码**：可以唯一标识一个元组的属性或属性组。
**主码**：从多个候选码中选定其中一个作为主码，即主键。
**实体集**：相同类型的一组实体。
**联系集**：多个实体之间的关系。
**属性**：

- 域：每个属性可取值的范围称为该属性的域
- 简单属性和复合属性：简单属性即不可再分的属性，复合属性可以再分为更细致的属性（要根据业务需求来看）
- 派生属性：可以通过其他属性派生出来，例如 age 属性可以通过基属性 date_of_birth 属性计算出来，故 age 属性可以不存储，再需要时计算出来

实体与实体之间的关系可分为：

- 一对一
- 一对多
- 多对一
- 多对多

## 第一范式

表中属性不可再分，其实大部分的 DBMS 都已经保证了这一点。可以理解为在数据库中我们不能像在 Excel 中可以随意合并属性单元格。
